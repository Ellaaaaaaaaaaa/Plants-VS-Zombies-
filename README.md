# Plants-VS-Zombies
偶然间翻到大一C++大作业项目，是用qt对植物大战僵尸的简单复现，很多功能都没实现，以下是一些本项目简单介绍。   
## 本游戏为对经典游戏植物大战僵尸的复刻，需要尽可能还原游戏中的一些操作和设计，因此根据原游戏的功能，初步设计本游戏的功能。   
1、拥有图形界面，如：游戏主场景界面、选择界面、准备界面  
2、能够实现游戏的操作，如：放置植物、铲除植物、收集阳光、生成僵尸、攻击等操作  
3、实现植物卡牌栏和阳光槽，并且拥有冷却时间  
4、实现背景音乐和操作音效，如：爆炸、阳光不足提醒、攻击、放置植物等  
5、实现了六种植物和五种僵尸  
6、实现测试功能，设置键盘上的按键可执行特殊功能  
7、可以进行胜负判断，并会产生胜负对应的界面  
8、实现代码层级的一些基本要求：如面向对象的继承派生多态等机；一些基本数据结构的使用，如list  

## 本程序一共创建了40个类，Dailog类继承自Qt的基本空间QDailog的，Object类继承自Qt基本类型QLabel，剩下的其他类都继承自Object类。  
Object类派生出七个类，再又这七个类派生出具体的类用于将对象实例化。  
1、Object类    
该类继承自QLabel，为抽象类，为派生类提供基本属性如：生命值、力量、行为函数、指向场景的指针，不参与实例化。  
2、Animation类    
该类用于播放动画，放完自动销毁，同时还播放相应音效。在执行逻辑的时候播放相应的动画，来可视化逻辑的效果。  
3、Bullet类    
该类用于设计植物发出的子弹，如豌豆、冰豌豆。有发射子弹、播放子弹音效和判定碰撞的功能。本游戏采用的是一维碰撞逻辑判定，即判定同行上碰撞。  
4、Card类    
该类设计为游戏场景中左侧的植物卡槽以及铲子工具，用于执行放置植物和铲除植物的功能。同时还设计了冷却时间和判定阳光数量的功能。  
5、Plant类和Zombie类  
这两个类是用于生成游戏的核心对象，负责派生出各种各样的植物和僵尸。设计了自身的属性如：生命值、攻击值等，还设计了对应的网格位置行与列，以及一些僵尸或植物特有的状态，如：冷冻、撑杆跳等。  
6、GameScene类  
该类负责管理其他的类，其属性里设置了包含奇遇类对象的容器QList，而其余类对象中也有指向场景的指针。该类派生出了三个类，分别对应开始动画、选择界面、游戏主界面。同时实现了游戏过程中的背景音乐播放。  
7、SunCollect类  
该类设计用于收集阳光以及产生阳光，通过追踪鼠标事件来实现  

## 核心逻辑设计：
本游戏内采取了独立个体的模式，即每一个对象内可以实现自己逻辑功能（act函数），包括碰撞判定，切换状态、播放动画、产生新对象加入scene等等。判定的功能由对象自身的act()函数完成，动画类只负责贴图不参与判定。这样一定程度上做到了动画和逻辑分离的模式。  
在交互设计上，Qt有专门的窗口事件响应器和信号-槽机制对交互做出反应，然后直接把产生的影响作用于对象，供下一回合的act()调用来更新状态，相当于异步接受操作。游戏的主定时器定义在各种scene下，每20ms进行一次逻辑运算和画面更新，因此整体交互很流畅。  
在多媒体的实现上，首先是我利用QSoundEffect类来实现背景音乐和音效的播放，然后我通过设计两层透明层来实现卡牌栏冷却效果的动画。  
还有很多设计上的细节，这部分可以参考我写的Doxygen文档注释，都有详细说明。  


